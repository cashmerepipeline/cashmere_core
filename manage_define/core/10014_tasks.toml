#
# 任务定义
#

id = 10014
name = { Cn = "任务", En = "tasks" }

# 描写，模式
schema = [
    # 通用属性
    # common
    { id = 1000, data_type = "String", name = { Cn = "编号", En = "id"}, removed = false },
    { id = 1001, data_type = "String", name = { Cn = "实体名", En = "name"}, removed = false },
    { id = 1002, data_type = "String", name = { Cn = "创建人", En = "creator"}, removed = false },
    { id = 1003, data_type = "Int64", name = { Cn = "创建时间戳", En = "create_timestamp"}, removed = false },
    { id = 1004, data_type = "String", name = { Cn = "修改人", En = "modifier"}, removed = false },
    { id = 1005, data_type = "Int64", name = { Cn = "修改时间戳", En = "modify_timestamp"}, removed = false },
    { id = 1006, data_type = "String", name = { Cn = "主人", En = "owner"}, removed = false },
    { id = 1007, data_type = "String", name = { Cn = "组表", En = "groups"}, removed = false },
    { id = 1008, data_type = "List", name = { Cn = "数据", En = "datas"}, removed = false },
    { id = 1009, data_type = "List", name = { Cn = "评论", En = "comments"}, removed = false },
    #-----------------
    # 专有属性
    #-----------------
    { id = 2008, data_type = "String", name = { Cn = "工作节点", En = "work_node"}, removed = false },
    # 工作状态：挂起，工作中，已提交，完成
    { id = 2009, data_type = "Map", name = { Cn = "状态", En = "status"}, removed = false },
    { id = 2010, data_type = "List", name = { Cn = "数据", En = "data"}, removed = false },
]

[queues]
event_queue = ["task_event_queue"]
massage_queue = ["task_message_queue"]

[events]
before_create = { manage = "tasks", python = "" }
after_create = { manage = "tasks", python = "" }

[items]

[view_rules]
id = 10014
name = { Cn = "任务", En = "tasks" }

[view_rules.manage]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "InVisible", write_rule = "InVisible", read_filters = ["GroupALl"], write_filters = [] }
[view_rules.entity]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "InVisible", write_rule = "InVisible", read_filters = ["GroupALl"], write_filters = [] }

[view_rules.schema.1000]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1001]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1002]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1003]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1004]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1005]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1006]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "OwnerWrite", read_filters = [], write_filters = [] }
[view_rules.schema.1007]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.1008]
1000000 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }

[view_rules.schema.2008]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.2009]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
[view_rules.schema.2010]
1000000 = { read_rule = "Read", write_rule = "Write", read_filters = [], write_filters = [] }
1000001 = { read_rule = "Read", write_rule = "InVisible", read_filters = [], write_filters = [] }
