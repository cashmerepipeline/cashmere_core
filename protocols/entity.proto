/*
Author: 闫刚 (yes7rose@sina.com)
entity.proto (c) 2020
Desc: 实体一般操作
Created:  2020-09-24T00:51:49.780Z
Modified: !date!
*/

syntax = "proto3";

package cashmere;

message Entity{
  bytes data = 1; // bson document {id, name, writeable_fields, readonly_fields}
}

message NewEntityRequest {
  int32 manage_id = 1;
  bytes data = 2;
}
message NewEntityResponse {
  string result = 1;
}

message EditEntityRequest {
  int32 manage_id = 1;
  string entity_id = 2;
  bytes data = 3;
}
message EditEntityResponse {
  string result = 1;
}

// 标记实体已移除
message MarkEntityRemovedRequest {
  string manage_id = 1;
  string entity_id = 2;
}
message MarkEntityRemovedResponse {
  string result = 1;
}

// 取得实体数据表
message GetDataListRequest{
  string manage_id = 1;
  string entity_id = 2;
  string data_id = 3;
}
message GetDataListResponse{
  repeated string data_ids = 1;
}

// 取得实体已标记移除数据表
message GetRemovedDataListRequest{
  string manage_id = 1;
  string entity_id = 2;
  string data_id = 3;
}
message GetRemovedDataListResponse{
  repeated string data_ids = 1;
}